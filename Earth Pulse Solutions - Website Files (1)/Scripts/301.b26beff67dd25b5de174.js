"use strict";(self.webpackJsonpRuntime=self.webpackJsonpRuntime||[]).push([[301],{5301:(e,t,n)=>{n.r(t),n.d(t,{closeMultiMegaMenus:()=>S,handleBodyScrollWithMegaMenu:()=>k,openMultiMegaMenu:()=>T,registerMegaMenu:()=>p});var o=n(5976),i=n(893),a=n(7174),r=n(3848);function s({multiMegaMenuContainers:e,selectedContainer:t=null,multiMegaMenuNavItems:n,selectedLink:o=null}){!function({multiMegaMenuContainers:e,selectedContainer:t}){e.forEach((e=>{e.setAttribute("role","menu"),e.setAttribute("aria-hidden","true"),(0,r.OK)()?e.removeAttribute("inert"):e.setAttribute("inert","")})),t&&(t.setAttribute("aria-hidden","false"),t.removeAttribute("inert"))}({multiMegaMenuContainers:e,selectedContainer:t}),function({multiMegaMenuNavItems:e,selectedLink:t}){e.forEach((e=>{e.setAttribute("aria-selected","false")})),t&&t.setAttribute("aria-selected","true")}({multiMegaMenuNavItems:n,selectedLink:o})}const c="open",u="--flex-header-height",l=`${a.v} > div.${c}`,d=`${l} [data-widget-type="youtube"]`,m=`${d} iframe`,g=`${d} video`,{addActionToAbort:f,cleanActions:v}=(0,i.j)();function M(e){e.scrollTop=0}let h;function b(){const e=$();if(e.getAttribute("data-changeable-on-scroll")){h&&h.disconnect();const t=N();h=new ResizeObserver((e=>{const[n]=e,o=n.borderBoxSize?.[0]?.blockSize??n.contentRect.height;t.style.setProperty(u,`${o}px`)})),h.observe(e,{box:"border-box"})}else h&&h.disconnect()}function y(){const e=document.querySelectorAll(`${m}, ${g}`);e.length&&e.forEach((e=>{if(e.src){const t=e.src;e.src=t}}))}function p(){const e=N(),t=document.querySelectorAll(a.L3),n=document.querySelectorAll(a.$M);v(),s({selectedContainer:null,multiMegaMenuNavItems:t,selectedLink:null,multiMegaMenuContainers:n});const{open:i,close:c}=function({multiMegaMenuWrapper:e,multiMegaMenuContainers:t,multiMegaMenuNavItems:n}){let o=null;return{open:({targetContainer:i,navItem:a})=>{o&&clearTimeout(o),E(),b(),I(e),A(i),M(i),w(),s({multiMegaMenuContainers:t,selectedContainer:i,multiMegaMenuNavItems:n,selectedLink:a})},close:({navItem:i,targetContainer:a,closeWhenHovered:r=!1})=>{o=setTimeout((()=>{(r||!(i.matches(":hover")||a.matches(":hover")||e.matches(":hover")||i.classList.contains("dmNavItemSelected")))&&(y(),C(a),L(),s({multiMegaMenuContainers:t,selectedContainer:null,multiMegaMenuNavItems:n,selectedLink:null}),h&&h.disconnect())}),500)}}}({multiMegaMenuContainers:n,multiMegaMenuNavItems:t,multiMegaMenuWrapper:e});t.forEach((e=>{const a=e.getAttribute("data-target-page-alias"),u=a&&document.getElementById(a);u&&(function({navItem:e,targetSection:t}){(0,r.OK)()||(e.setAttribute("aria-haspopup","true"),e.setAttribute("role","button"),e.setAttribute("tabindex","0"),t.id&&e.setAttribute("aria-controls",t.id))}({navItem:e,targetSection:u}),function({navItem:e,targetContainer:t,addActionToAbort:n,open:i,close:a}){if((0,r.OK)())return;const s=t.querySelectorAll(o.DH.join(",")),c=s[0],u=s[s.length-1],l=()=>i({targetContainer:t,navItem:e}),d=()=>a({targetContainer:t,navItem:e,closeWhenHovered:!0});let m=null;function g(t){t.preventDefault(),d(),e.focus()}n((t=>{e.addEventListener("click",l,{signal:t})})),n((n=>{e.addEventListener("blur",(()=>{requestAnimationFrame((()=>{t.contains(document.activeElement)||d()}))}),{signal:n})})),n((t=>{e.addEventListener("keydown",(e=>{if("Enter"===e.key&&(m=e.currentTarget),m===e.currentTarget&&"Tab"===e.key)return c instanceof HTMLElement&&(e.preventDefault(),c.focus()),void(m=null);"Escape"===e.key&&e.currentTarget===document.activeElement&&d()}),{signal:t})})),n((n=>{t.addEventListener("keydown",(t=>{"Escape"===t.key&&(d(),e.focus())}),{signal:n})})),u&&u.addEventListener("keydown",(e=>{e instanceof KeyboardEvent&&("Tab"!==e.key||e.shiftKey||g(e))})),c&&c.addEventListener("keydown",(e=>{e instanceof KeyboardEvent&&"Tab"===e.key&&e.shiftKey&&g(e)}))}({navItem:e,targetContainer:u,open:i,close:c,addActionToAbort:f}),f((t=>{e.addEventListener("mouseenter",(()=>i({targetContainer:u,navItem:e})),{signal:t})})),f((t=>{e.addEventListener("mouseleave",(()=>{c({navItem:e,targetContainer:u})}),{signal:t})})),f((e=>{u.addEventListener("mouseleave",(()=>{u.matches(":focus-within, :has(> .active)")||(y(),C(u),L(),s({multiMegaMenuContainers:n,selectedContainer:null,multiMegaMenuNavItems:t,selectedLink:null}))}),{signal:e})})))}))}function E(){document.querySelectorAll(l).forEach((e=>{C(e)})),L(),h&&h.disconnect()}function A(e){e.classList.add(c),window.dispatchEvent(new Event("resize"))}function C(e){e.classList.remove(c)}function I(e){const t=`${$().offsetHeight}px`;e.style.setProperty(u,t)}function k(){w()}function w(){(function(){const e=document.querySelector(l);if(!e)return!1;const t=e.clientHeight;return e.scrollHeight>t})()&&(document.body.style.height="100vh",document.body.style.overflow="hidden")}function L(){document.body.style.height="",document.body.style.overflow=""}function T(e){const t=document.getElementById(e);t&&t.closest(a.v)?t.matches(`.${c}`)||(E(),b(),I(N()),A(t),M(t),w()):E()}function S(){E()}function $(){const e=document.getElementById(o.a$);if(!e)throw new Error("Header element not found");return e}function N(){const e=document.getElementById(a.zE);if(!e)throw new Error("Multi mega menu wrapper not found");return e}},893:(e,t,n)=>{function o(){const e=new Set;return{addActionToAbort:t=>{const n=new AbortController,{signal:o}=n;t(o),e.add(n)},cleanActions:()=>{e.forEach((e=>{e.abort()})),e.clear()}}}n.d(t,{j:()=>o})}}]);
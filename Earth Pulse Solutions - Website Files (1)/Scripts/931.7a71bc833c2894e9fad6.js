"use strict";(self.webpackJsonpRuntime=self.webpackJsonpRuntime||[]).push([[931],{7931:(e,t,n)=>{n.r(t),n.d(t,{closeMegaMenus:()=>q,handleBodyScrollWithMegaMenu:()=>k,openMegaMenu:()=>T,registerMegaMenu:()=>p});var o=n(7174),c=n(3848);function a({megaMenuSections:e,selectedSection:t=null,megaMenuNavItems:n,selectedLink:o=null}){window.rtFlags["flex.megaMenu.a11y"]&&(function({megaMenuSections:e,selectedSection:t}){e.forEach((e=>{e.setAttribute("role","menu"),e.setAttribute("aria-hidden","true"),(0,c.OK)()?e.removeAttribute("inert"):e.setAttribute("inert","")})),t&&(t.setAttribute("aria-hidden","false"),t.removeAttribute("inert"))}({megaMenuSections:e,selectedSection:t}),function({megaMenuNavItems:e,selectedLink:t}){e.forEach((e=>{e.setAttribute("aria-selected","false")})),t&&t.setAttribute("aria-selected","true")}({megaMenuNavItems:n,selectedLink:o}))}var i=n(5976),s=n(893);const r="open",l="--flex-header-height",u=`${i.pM} [data-flex-id]`,d=`${i.pM} [data-flex-id].${r}`,m=`${d} [data-widget-type="youtube"]`,g=`${m} iframe`,f=`${m} video`,{addActionToAbort:v,cleanActions:y}=(0,s.j)();function b(e){e.scrollTop=0}let h;function S(){const e=document.getElementById(i.a$);if(e?.getAttribute("data-changeable-on-scroll")){h&&h.disconnect();const t=document.querySelector(i.pM);h=new ResizeObserver((e=>{const[n]=e,o=n.borderBoxSize?.[0]?.blockSize??n.contentRect.height;t.style.setProperty(l,`${o}px`)})),h.observe(e,{box:"border-box"})}else h&&h.disconnect()}function M(){const e=document.querySelectorAll(`${g}, ${f}`);e.length&&e.forEach((e=>{if(e.src){const t=e.src;e.src=t}}))}function p(){const e=document.querySelectorAll(o.mo),t=document.querySelector(i.pM),n=document.querySelectorAll(u);y(),a({megaMenuSections:n,selectedSection:null,megaMenuNavItems:e,selectedLink:null});const{open:s,close:r}=function({megaMenuContainer:e,megaMenuSections:t,megaMenuNavItems:n}){let o=null;return{open:({targetSection:c,navItem:i})=>{clearTimeout(o),A(),S(),w(e),E(c),b(e),$(),a({megaMenuSections:t,selectedSection:c,megaMenuNavItems:n,selectedLink:i})},close:({navItem:c,targetSection:i,closeWhenHovered:s=!1})=>{o=setTimeout((()=>{(s||!(c.matches(":hover")||i.matches(":hover")||e.matches(":hover")||c.classList.contains("dmNavItemSelected")))&&(M(),I(e),L(i),x(),a({megaMenuSections:t,selectedSection:null,megaMenuNavItems:n,selectedLink:null}),h&&h.disconnect())}),500)}}}({megaMenuContainer:t,megaMenuSections:n,megaMenuNavItems:e});e.forEach((o=>{const l=o.getAttribute("data-target-page-alias").split(":")[1],u=document.querySelector(`[data-flex-id="${l}"]`);u&&(function({navItem:e,targetSection:t}){window.rtFlags["flex.megaMenu.a11y"]&&!(0,c.OK)()&&(e.setAttribute("aria-haspopup","true"),e.setAttribute("role","button"),e.setAttribute("tabindex","0"),t.id&&e.setAttribute("aria-controls",t.id))}({navItem:o,targetSection:u}),function({navItem:e,targetSection:t,addActionToAbort:n,open:o,close:a}){const s=window.rtFlags["flex.megaMenu.a11y"]||!1;if((0,c.OK)()||!s)return;const r=t.querySelectorAll(i.DH.join(",")),l=r[0],u=r[r.length-1],d=()=>o({targetSection:t,navItem:e}),m=()=>a({targetSection:t,navItem:e,closeWhenHovered:!0});let g=null;function f(t){t.preventDefault(),m(),e.focus()}n((t=>{e.addEventListener("click",d,{signal:t})})),n((n=>{e.addEventListener("blur",(()=>{requestAnimationFrame((()=>{t.contains(document.activeElement)||m()}))}),{signal:n})})),n((t=>{e.addEventListener("keydown",(e=>{if("Enter"===e.key&&(g=e.currentTarget),g===e.currentTarget&&"Tab"===e.key)return l instanceof HTMLElement&&(e.preventDefault(),l.focus()),void(g=null);"Escape"===e.key&&e.currentTarget===document.activeElement&&m()}),{signal:t})})),n((n=>{t.addEventListener("keydown",(t=>{"Escape"===t.key&&(m(),e.focus())}),{signal:n})})),u&&u.addEventListener("keydown",(e=>{e instanceof KeyboardEvent&&("Tab"!==e.key||e.shiftKey||f(e))})),l&&l.addEventListener("keydown",(e=>{e instanceof KeyboardEvent&&"Tab"===e.key&&e.shiftKey&&f(e)}))}({navItem:o,targetSection:u,open:s,close:r,addActionToAbort:v}),v((e=>{o.addEventListener("mouseenter",(()=>s({targetSection:u,navItem:o})),{signal:e})})),v((e=>{o.addEventListener("mouseleave",(()=>{r({navItem:o,targetSection:u})}),{signal:e})})),v((o=>{u.addEventListener("mouseleave",(()=>{u.classList.contains("active")||u.matches(":focus-within")||(M(),I(t),L(u),x(),a({megaMenuSections:n,selectedSection:null,megaMenuNavItems:e,selectedLink:null}))}),{signal:o})})))}))}function A(){const e=document.querySelector(i.pM);document.querySelectorAll(d).forEach((e=>{L(e)})),I(e),x(),h&&h.disconnect()}function E(e){e.classList.add(r),window.dispatchEvent(new Event("resize"))}function L(e){e.classList.remove(r)}function w(e){if(!e)return;const t=`${document.getElementById(i.a$).offsetHeight}px`;e.style.setProperty(l,t),e.classList.add(r)}function I(e){e&&(e.style.removeProperty(l),e.classList.remove(r))}function k(){$()}function $(){(function(){const e=document.querySelector(i.pM),t=e.clientHeight;return e.scrollHeight>t})()&&(document.body.style.height="100vh",document.body.style.overflow="hidden")}function x(){document.body.style.height="",document.body.style.overflow=""}function T(e){const t=document.querySelector(i.pM),n=document.querySelector(`[data-flex-id="${e}"]`);n.closest(i.pM)?n.matches(`.${r}`)||(A(),S(),w(t),E(n),b(t),$()):A()}function q(){A()}},893:(e,t,n)=>{function o(){const e=new Set;return{addActionToAbort:t=>{const n=new AbortController,{signal:o}=n;t(o),e.add(n)},cleanActions:()=>{e.forEach((e=>{e.abort()})),e.clear()}}}n.d(t,{j:()=>o})}}]);